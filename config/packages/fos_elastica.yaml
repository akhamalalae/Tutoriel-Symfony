fos_elastica:
    clients:
        default: { host: elasticsearch, port: 9200 }
    indexes:
        message:
            persistence:
                # the driver can be orm, mongodb or phpcr
                driver: orm
                model: App\Entity\DiscussionMessageUser
                provider: ~
                finder: ~
            properties:
                id: ~
                creatorUser:
                    type: object
                    properties:
                        id: ~
                message:
                    type: object
                    properties:
                        id: ~
                        message: ~
                        sensitiveDataMessage: ~
                        dateCreation:
                            type: date
                        dateModification:
                            type: date
                        fileMessages:
                            type: object
                            properties:
                                id: ~
                                name: ~
                                originalName: ~
                                mimeType: ~
                                sensitiveDataName: ~
                        user:
                            type: object
                            properties:
                                id: ~
                discussion:
                    type: object
                    properties:
                        id: ~
                        personInvitationSender:
                            type: object
                            properties:
                                id: ~
                        personInvitationRecipient:
                            type: object
                            properties:
                                id: ~
                        creatorUser:
                            type: object
                            properties:
                                id: ~
                        dateCreation:
                            type: date
                        dateModification:
                            type: date
                dateCreation:
                    type: date
                    format: "strict_date_optional_time||epoch_millis"
                dateModification:
                    type: date
                    format: "strict_date_optional_time||epoch_millis"
        discussion:
            persistence:
                # the driver can be orm, mongodb or phpcr
                driver: orm
                model: App\Entity\Discussion
                provider: ~
                finder: ~
            properties:
                id: ~
                personInvitationSender:
                    type: object
                    properties:
                        id: ~
                        sensitiveDataName:
                            type: text
                            analyzer: standard
                        sensitiveDataFirstName:
                            type: text
                            analyzer: standard
                personInvitationRecipient:
                    type: object
                    properties:
                        id: ~
                        sensitiveDataName:
                            type: text
                            analyzer: standard
                        sensitiveDataFirstName:
                            type: text
                            analyzer: standard
                creatorUser:
                    type: object
                    properties:
                        id: ~
                dateCreation:
                    type: date
                dateModification:
                    type: date


